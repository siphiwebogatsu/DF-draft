[["index.html", "Chapter 1 Introduction", " AFLEARN Introduction to R using ICAN-ICAR 2025 Survey Data Siphiwe M. Bogatsu February 2026 Chapter 1 Introduction "],["survey-design-sampling-and-weighting.html", "Chapter 2 Survey Design, Sampling, and Weighting 2.1 Survey sampling and design 2.2 Survey weights and design-based inference 2.3 Practice exercises", " Chapter 2 Survey Design, Sampling, and Weighting Household surveys such as PAL Network’s ICAN-ICAR study estimate population learning outcomes from a sample. The sampling design determines which households enter the data, and the survey design variables (weights, strata, and clusters) determine how analysts should estimate population quantities and uncertainty. After this chapter, you should be able to explain probability sampling, describe the ICAN-ICAR multi-stage design, interpret a survey weight, and compute design-correct estimates in R. #| echo: true #| warning: false #| message: false library(tidyverse) library(survey) library(knitr) # load the data dat = read_csv(&quot;data/2025_PAL_ICAN-ICAR_data.csv&quot;, show_col_types = FALSE) 2.1 Survey sampling and design A census measures every household in the population. ICAN-ICAR survey data instead uses a probability sample because a census is rarely feasible at national scale. Probability sampling supports population inference because the design assigns each unit a known (or estimable) selection probability. ICAN-ICAR survey data uses a stratified, multi-stage cluster design.@fig-pal-sampling-process illustrates the logic. Figure 2.1: Illustration of the ICAN-ICAR multi-stage sampling process. Stage 1 (select clusters). The survey defines primary sampling units (PSUs) such as enumeration areas, villages, or urban blocks. Within strata (for example, region-by-urban/rural categories), the design selects PSUs using probability proportional to size (PPS) so that larger PSUs have a higher chance of selection. Stage 2 (select households). Within each selected PSU, the field team selects a fixed number of households using a standardized selection procedure (for example, systematic selection from a listing). This second stage produces the household sample used for data collection. This design shapes analysis in two ways. First, learners within the same PSU tend to resemble one another, which increases uncertainty relative to a simple random sample of the same size. Second, stratification often improves precision because the sample covers key sub-populations more evenly. 2.2 Survey weights and design-based inference A survey weight approximates how many population units a sampled unit represents. In its simplest form, the design weight equals the inverse of the selection probability. If a household had a 1 in 500 chance of selection, its basic weight would be 500. In other words, that household represents 500 households in the population.The ICAN-ICAR survey data includes a household weight variable, HH_Weight_Provided, which can be used for population estimate. To compensate for households that were selected but did not respond (or were missed), the weights are adjusted so that responding households “stand in” for similar households that did not respond. This may also involve post-stratification — adjusting weights so that certain known totals (e.g. population by region, or by urban/rural) align with census figures. These adjustments reduce bias from non-response and any sampling frame imperfections. Ignoring survey weights or clustering can make your analysis misrepresent both the population estimate and its uncertainty. If selection probabilities vary, unweighted summaries describe the sample rather than the population, whereas weighting targets the population by rebalancing each observation’s contribution. Clustering also induces correlation within PSUs, thus treating the data as a random sample typically understates standard errors and produces confidence intervals that are too narrow. Survey-aware methods incorporates the design to estimate uncertainty correctly. The svydesign() from the survey package represents the sampling design through a design object. After you create that object, you pass it to survey-aware estimators such as svymean() and svyglm(). In multi-country analysis, cluster and strata identifiers can repeat across countries. The safest approach is to use interaction() so that identifiers become unique across the pooled data. options( survey.lonely.psu = &quot;adjust&quot;, survey.adjust.domain.lonely = TRUE ) des = svydesign( ids = ~interaction(CountryName, VillageID) + HHID, strata = ~interaction(CountryName, Tier_One_Unit), weights = ~HH_Weight_Provided, data = dat, nest = TRUE ) Let’s break down each component: 1. ids = ~interaction(CountryName, VillageID) + HHID This specifies the two-stage cluster structure: Stage 1: EAs/Villages (identified uniquely by interaction(CountryName, VillageID)) Stage 2: Households within EAs (identified by HHID) We use interaction() to create unique EA identifiers across countries, since the same VillageID might exist in multiple countries. The + indicates nested stages (households within EAs) 2. strata = ~interaction(CountryName, Tier_One_Unit) Stratification variables are the geographic regions within each country. Tier_One_Unit represents the first-level administrative division (provinces, districts, etc.). We interact this with CountryName to treat each country as its own separate stratification system. This ensures that sampling variability is calculated correctly within each country’s design 3. weights = ~HH_Weight_Provided This is the final household weight variable provided in the data. Already incorporates all necessary adjustments (selection probabilities, non-response, post-stratification) 4. nest = TRUE This is essential when cluster IDs are only unique within strata. It tells R that VillageID values can repeat across different strata/countries, and prevents R from treating EAs with the same ID in different countries as the same cluster. The example below compares an unweighted and weighted estimate of the proportion of enrolled learners who meet minimum proficiency in both maths and reading in Senegal. # filter to enrolled learners in Senegal one_country = dat |&gt; filter(CountryName == &quot;Senegal&quot; &amp; enr_status == &quot;Currently Enrolled&quot;) # unweighted (sample) estimate prop_unweighted = mean(one_country$MPL_both, na.rm = TRUE) prop_unweighted ## [1] 0.2603826 # weighted estimate with design-correct SE options( survey.lonely.psu = &quot;adjust&quot;, survey.adjust.domain.lonely = TRUE ) des_one = svydesign( ids = ~interaction(CountryName, VillageID) + HHID, strata = ~interaction(CountryName, Tier_One_Unit), weights = ~HH_Weight_Provided, data = one_country, nest = TRUE ) prop_weighted = svymean(~MPL_both, design = des_one, na.rm = TRUE) prop_weighted ## mean SE ## MPL_both 0.26049 0.0109 @fig-pal-analysis-workflow summarizes a practical workflow that you can reuse for descriptive statistics and modelling. Figure 2.2: A practical workflow for analysing ICAN-ICAR survey data in R. After you define des, these are the common survey-aware functions: svymean() for weighted means and proportions, svytotal() for weighted totals, svyby() for subgroup estimates, and svyglm() for regression models with design-correct standard errors. 2.3 Practice exercises Change the country filter in the example and compare unweighted and weighted MPL estimates. Estimate the weighted proportion meeting MPL in maths (MPL_math) and compare it with the unweighted proportion. Within one country, use svyby() to estimate MPL by Location (urban/rural) for enrolled learners. "],["understanding-distributions.html", "Chapter 3 Understanding distributions 3.1 Getting oriented to the data 3.2 Variable types and levels of measurement 3.3 Distributions of continuous variables 3.4 Distributions of categorical variables 3.5 Weighted summaries using the survey design 3.6 Household-level variables in a child-level file 3.7 Missing data and skip patterns 3.8 Exercises", " Chapter 3 Understanding distributions Large survey datasets contain many variables and many observations. To learn from such data, you need tools that summarise patterns clearly and accurately. This chapter introduces distributions—the way a variable’s values are spread across the sample—and shows how to describe distributions using tables, summary statistics, and simple plots. Because the ICAN-ICAR data come from a complex survey, we also show how to produce weighted summaries that reflect the target population. 3.1 Getting oriented to the data Start by checking the size of the dataset and inspecting the variables. dim(dat) # rows and columns ## [1] 89141 142 names(dat)[1:25] # first 25 variable names ## [1] &quot;CountryName&quot; &quot;Tier_One_Unit&quot; &quot;VillageID&quot; &quot;Location&quot; &quot;HHID&quot; &quot;SubmissionDate&quot; &quot;duration&quot; ## [8] &quot;hh06a&quot; &quot;hh06b&quot; &quot;hh06c&quot; &quot;hh06d&quot; &quot;hh07a&quot; &quot;hh07b&quot; &quot;hh07c&quot; ## [15] &quot;hh07d&quot; &quot;hh07e&quot; &quot;hh07f&quot; &quot;hh07g&quot; &quot;hh07h&quot; &quot;hh07i&quot; &quot;hh07j&quot; ## [22] &quot;hh07k&quot; &quot;hh07l&quot; &quot;hh07m&quot; &quot;hh07n&quot; A useful next step is to focus on a small set of variables. In this course we frequently use child age (ch02), child sex (ch03), enrolment status (enr_status), and assessment timing variables. dat |&gt; select(CountryName, Location, HHID, ChildID, ch02, ch03, ch06a, enr_status, icar_assess_time, ican_assess_time) |&gt; head(10) ## # A tibble: 10 × 10 ## CountryName Location HHID ChildID ch02 ch03 ch06a enr_status icar_assess_time ican_assess_time ## &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 Mozambique Urban uuid:f5808f62-6a22-4247-ae68-9eb8… uuid:f… 8 2 4 Currently… 0.783 4.87 ## 2 Mozambique Urban uuid:b98e2157-5941-457c-8249-cea7… uuid:b… 12 2 6 Currently… 5.52 3.33 ## 3 Mozambique Urban uuid:26117653-2d45-474f-a7ea-6fa5… uuid:2… 8 1 3 Currently… 1.73 4.33 ## 4 Mozambique Urban uuid:d46bcfd9-f3e5-44ff-825e-6371… uuid:d… 9 1 5 Currently… 4.22 4.12 ## 5 Mozambique Urban uuid:df927f9a-f03b-480b-ada3-ddfd… uuid:d… 10 2 2 Currently… 0.617 7.38 ## 6 Mozambique Urban uuid:ade5f0d8-768a-479c-956b-976e… uuid:a… 13 1 7 Currently… 9.68 7.2 ## 7 Mozambique Urban uuid:3f84d69b-e298-43d8-8c77-0ae0… uuid:3… 8 1 3 Currently… 4.9 11.3 ## 8 Mozambique Urban uuid:ff7b1d96-0e69-400c-955e-2209… uuid:f… 8 1 3 Currently… 7.28 7.9 ## 9 Mozambique Urban uuid:7730b493-addc-4c60-8a8e-9d31… uuid:7… 16 2 10 Currently… 5.12 10.1 ## 10 Mozambique Urban uuid:e2108c51-8a38-452a-94f5-dd12… uuid:e… 8 2 1 Currently… 6 18 3.2 Variable types and levels of measurement The summary tools you use depend on the type of variable. Continuous (or continuous-like) variables represent quantities. Examples include child age (ch02), household size (hh06a), and assessment time (icar_assess_time). Even when a variable records whole numbers (such as household size), it often behaves like a continuous measure because averages and differences remain interpretable. Categorical variables group observations into distinct categories. Examples include CountryName, Location, and child sex (ch03). For categorical variables, counts and proportions are more informative than averages. The ICAN-ICAR data are stored at the child level: each row is a child. Some variables therefore repeat across children in the same household (for example, household size). When you analyse household-level variables, you must avoid counting the same household multiple times. 3.3 Distributions of continuous variables A distribution summary typically combines (i) a numeric description and (ii) a plot. 3.3.1 Numeric summaries Use summary() for a quick overview, then compute statistics that match your question. summary(dat$ch02) # child age ## Min. 1st Qu. Median Mean 3rd Qu. Max. ## 5.00 7.00 10.00 10.04 13.00 16.00 summary(dat$icar_assess_time) # ICAR assessment time ## Min. 1st Qu. Median Mean 3rd Qu. Max. NA&#39;s ## 0.000 1.683 4.067 5.569 7.000 675.717 2827 dat |&gt; summarise( mean_age = mean(ch02, na.rm = TRUE), sd_age = sd(ch02, na.rm = TRUE), p25_age = quantile(ch02, 0.25, na.rm = TRUE), median_age = median(ch02, na.rm = TRUE), p75_age = quantile(ch02, 0.75, na.rm = TRUE) ) ## # A tibble: 1 × 5 ## mean_age sd_age p25_age median_age p75_age ## &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 10.0 3.22 7 10 13 3.3.2 Plots Histograms and density plots show shape (skewness, clustering, and outliers). ggplot(dat, aes(x = ch02)) + geom_histogram(bins = 20, fill = &quot;magenta&quot;) + labs(x = &quot;Child age (years)&quot;, y = &quot;Count&quot;) + theme_bw() Figure 3.1: Distribution of child age in the ICAN-ICAR sample. 3.4 Distributions of categorical variables For categorical variables, start with a frequency table and then compute proportions. # raw counts table(dat$ch03, useNA = &quot;ifany&quot;) ## ## 1 2 ## 45213 43928 table(dat$Location, useNA = &quot;ifany&quot;) ## ## Rural Urban ## 49781 39360 It is usually clearer to attach labels. For example, ch03 is typically coded 1/2 for Female/Male. dat = dat |&gt; mutate( sex = factor(ch03, levels = c(1, 2), labels = c(&quot;Female&quot;, &quot;Male&quot;)), residence = factor(Location, levels = c(&quot;Rural&quot;, &quot;Urban&quot;)) ) Now you can create clean frequency tables. sex_tbl = dat |&gt; filter(!is.na(sex)) |&gt; count(sex) |&gt; mutate(percent = 100 * n / sum(n)) 3.5 Weighted summaries using the survey design Unweighted summaries describe the sample. To describe the population, you must account for weights, clustering, and stratification. We create a survey design object using the same structure used elsewhere in the course. options( survey.lonely.psu = &quot;adjust&quot;, survey.adjust.domain.lonely = TRUE ) des_child_all = svydesign( ids = ~interaction(CountryName, VillageID) + HHID, strata = ~interaction(CountryName, Tier_One_Unit), weights = ~HH_Weight_Provided, data = dat, nest = TRUE ) 3.5.1 Weighted proportions and means A weighted proportion of girls in the population: svymean(~I(ch03 == 1), des_child_all, na.rm = TRUE) ## mean SE ## I(ch03 == 1)FALSE 0.51713 0.0032 ## I(ch03 == 1)TRUE 0.48287 0.0032 Weighted means for several continuous variables: svymean(~ch02 + icar_assess_time + ican_assess_time, des_child_all, na.rm = TRUE) ## mean SE ## ch02 10.0037 0.0238 ## icar_assess_time 5.8671 0.1045 ## ican_assess_time 7.7783 0.1302 3.5.2 Weighted frequency tables Weighted distributions use svytable(). country_w = svytable(~CountryName, des_child_all) country_w_tbl = tibble( CountryName = names(country_w), weighted_n = as.numeric(country_w), percent = as.numeric(100 * prop.table(country_w)) ) 3.6 Household-level variables in a child-level file When a household-level variable repeats across children, a child-level frequency table over-weights large households. A simple fix is to keep one record per household. dat = dat |&gt; arrange(HHID, ChildID) |&gt; group_by(HHID) |&gt; mutate(hh_first = row_number() == 1) |&gt; ungroup() For example, compare a child-level and household-level distribution of roof type (hh07a), if that variable is available in your extract. # child-level distribution (counts children) dat |&gt; count(hh07a) |&gt; mutate(percent = 100 * n / sum(n)) # household-level distribution (counts households once) dat |&gt; filter(hh_first) |&gt; count(hh07a) |&gt; mutate(percent = 100 * n / sum(n)) To produce a weighted household-level distribution, subset the survey design to one row per household. options( survey.lonely.psu = &quot;adjust&quot;, survey.adjust.domain.lonely = TRUE ) des_child_all = svydesign( ids = ~interaction(CountryName, VillageID) + HHID, strata = ~interaction(CountryName, Tier_One_Unit), weights = ~HH_Weight_Provided, data = dat, nest = TRUE ) des_household = subset(des_child_all, hh_first) roof_w = svytable(~hh07a, des_household) tibble( roof_type = names(roof_w), percent = as.numeric(100 * prop.table(roof_w)) ) 3.7 Missing data and skip patterns Missing values are common in survey data. In ICAN-ICAR, missingness often reflects skip patterns. For example, grade (ch06a) is usually recorded only for learners who are currently enrolled. Start by checking how much is missing. dat |&gt; summarise( total = n(), missing_ch06a = sum(is.na(ch06a)), missing_pct = 100 * sum(is.na(ch06a)) / n() ) ## # A tibble: 1 × 3 ## total missing_ch06a missing_pct ## &lt;int&gt; &lt;int&gt; &lt;dbl&gt; ## 1 89141 9915 11.1 Then evaluate whether missingness aligns with enrolment status. dat |&gt; group_by(enr_status) |&gt; summarise( total = n(), missing_ch06a = sum(is.na(ch06a)), missing_pct = 100 * sum(is.na(ch06a)) / n() ) |&gt; arrange(desc(total)) ## # A tibble: 3 × 4 ## enr_status total missing_ch06a missing_pct ## &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; ## 1 Currently Enrolled 79397 171 0.215 ## 2 Never Enrolled 7517 7517 100 ## 3 Out of School 2227 2227 100 You can also estimate weighted missingness rates by subgroup. svyby( ~I(is.na(ch06a)), ~enr_status, des_child_all, svymean, na.rm = TRUE ) ## enr_status I(is.na(ch06a))FALSE I(is.na(ch06a))TRUE se.I(is.na(ch06a))FALSE se.I(is.na(ch06a))TRUE ## Currently Enrolled Currently Enrolled 0.9991602 0.0008397509 0.0001091877 0.0001091877 ## Never Enrolled Never Enrolled 0.0000000 1.0000000000 0.0000000000 0.0000000000 ## Out of School Out of School 0.0000000 1.0000000000 0.0000000000 0.0000000000 3.8 Exercises Use the ICAN-ICAR data and the tools in this chapter to answer the questions below. What proportion of the sample is rural (Location == \"Rural\")? Compute both the unweighted and weighted estimate. What is the unweighted and weighted mean child age (ch02) for enrolled learners (enr_status == \"Currently Enrolled\")? Create an age group variable (for example, &lt;= 10 vs &gt; 10). What share of learners falls in each age group? Produce a weighted frequency table for Location within one country of your choice. Investigate missingness in ch06a by residence and by sex. Report the results as unweighted and weighted proportions. "],["central-tendency-and-dispersion.html", "Chapter 4 Central Tendency and Dispersion 4.1 Central tendency 4.2 Dispersion 4.3 Weighted, design-correct summaries 4.4 Outliers and the unit of analysis 4.5 Practice exercises", " Chapter 4 Central Tendency and Dispersion Descriptive statistics summarise data in ways that support interpretation and comparison. In household surveys such as PAL Network’s ICAN-ICAR study, you should compute these summaries with survey weights and design variables when your goal is population inference. After this chapter, you should be able to (i) compute and interpret measures of central tendency (mean, median, and mode), (ii) compute and interpret measures of dispersion (variance, standard deviation, and interquartile range), and (iii) produce weighted, design-correct summaries in R. 4.1 Central tendency Measures of central tendency describe a “typical” value. Mean. The mean is the arithmetic average. It uses all observations and is sensitive to extreme values. Median. The median is the 50th percentile. It remains stable when a small number of observations are very large or very small, so it is often more informative for skewed distributions. Mode. The mode is the most common value. It is most useful for categorical variables. The next example uses ICAR assessment time as a continuous variable. If your dataset stores this variable under a different name (for example, ican_assess_time), replace it in the code. summary(dat$icar_assess_time) ## Min. 1st Qu. Median Mean 3rd Qu. Max. NA&#39;s ## 0.000 1.683 4.067 5.569 7.000 675.717 2827 tibble( statistic = c(&quot;mean&quot;, &quot;median&quot;), value = c( mean(dat$icar_assess_time, na.rm = TRUE), median(dat$icar_assess_time, na.rm = TRUE) ) ) ## # A tibble: 2 × 2 ## statistic value ## &lt;chr&gt; &lt;dbl&gt; ## 1 mean 5.57 ## 2 median 4.07 A distribution plot helps you interpret the difference between the mean and the median. When the distribution is right-skewed, a small number of large values typically pulls the mean above the median. Figure 4.1: Histogram of ICAR assessment time. To compute a mode for a categorical variable, count frequencies and select the largest count. dat |&gt; filter(!is.na(residence)) |&gt; count(residence, name = &quot;n&quot;) |&gt; arrange(desc(n)) |&gt; slice(1) ## # A tibble: 1 × 2 ## residence n ## &lt;fct&gt; &lt;int&gt; ## 1 Rural 49781 4.2 Dispersion Measures of dispersion describe how much values vary. Variance and standard deviation. The variance is the average squared deviation from the mean. The standard deviation is the square root of the variance, so it is measured on the original scale. Interquartile range (IQR). The IQR is the distance between the 75th and 25th percentiles. It summarises spread in the middle of the distribution and is less sensitive to outliers than the standard deviation. tibble( statistic = c(&quot;sd&quot;, &quot;IQR&quot;), value = c( sd(dat$icar_assess_time, na.rm = TRUE), IQR(dat$icar_assess_time, na.rm = TRUE) ) ) ## # A tibble: 2 × 2 ## statistic value ## &lt;chr&gt; &lt;dbl&gt; ## 1 sd 14.9 ## 2 IQR 5.32 4.3 Weighted, design-correct summaries Unweighted summaries describe the sample. Weighted, design-correct summaries target the population and use appropriate standard errors for a stratified, clustered design. The code below estimates the population mean of ICAR assessment time for one country using the survey design object. It also computes the median through a weighted quantile. des_country = subset(des, CountryName == &quot;Senegal&quot; &amp; !is.na(icar_assess_time)) m = svymean(~icar_assess_time, design = des_country, na.rm = TRUE) q50 = svyquantile(~icar_assess_time, design = des_country, quantiles = 0.5, na.rm = TRUE) tibble( quantity = c(&quot;mean (weighted)&quot;, &quot;median (weighted)&quot;), estimate = c(coef(m)[[&quot;icar_assess_time&quot;]], coef(q50)) ) ## # A tibble: 2 × 2 ## quantity estimate ## &lt;chr&gt; &lt;dbl&gt; ## 1 mean (weighted) 5.82 ## 2 median (weighted) 4.07 To compare groups, use svyby() so that estimates and standard errors respect the design. svyby( ~icar_assess_time, ~sex, design = subset(des, CountryName == &quot;Senegal&quot; &amp; !is.na(icar_assess_time) &amp; !is.na(sex)), FUN = svymean, na.rm = TRUE ) 4.4 Outliers and the unit of analysis In PAL data, some variables are defined at the household level (for example, household size). When the dataset includes multiple children per household, household-level quantities appear repeatedly. A household summary should therefore use one row per household. The code below constructs a household-level dataset by keeping the first observation in each household. It then shows how an outlier can affect the mean more than the median. dat_hh = dat |&gt; group_by(HHID) |&gt; slice(1) |&gt; ungroup() |&gt; mutate( hh_size = ifelse(hh06a &gt; 0 &amp; hh06a &lt;= 50, hh06a, NA_real_) # simple, transparent cutoff ) tibble( statistic = c(&quot;mean&quot;, &quot;median&quot;), value = c( mean(dat_hh$hh_size, na.rm = TRUE), median(dat_hh$hh_size, na.rm = TRUE) ) ) ## # A tibble: 2 × 2 ## statistic value ## &lt;chr&gt; &lt;dbl&gt; ## 1 mean 6.29 ## 2 median 5 If a small number of extreme values drives the mean away from the typical household size, the median or the IQR usually provides a clearer summary of the distribution. 4.5 Practice exercises For a country of your choice, compute the unweighted mean and median of icar_assess_time. Then compute the weighted mean and weighted median using svymean() and svyquantile(). Use svyby() to estimate the weighted mean ICAR assessment time by residence for one country. Interpret the difference. For household size (hh06a), compare the mean and median using the household-level dataset created in this chapter. Explain which measure better represents a “typical” household size and why. Choose one additional continuous variable (for example, child age ch02). Compute its mean, median, standard deviation, and IQR, and then describe the distribution in two to three sentences. "],["bivariate-analysis.html", "Chapter 5 Bivariate Analysis 5.1 Choosing the right bivariate tool 5.2 Categorical × categorical: cross-tabulations 5.3 Continuous × categorical: comparing group means 5.4 Continuous × continuous: scatterplots and trends 5.5 Testing association with chi-squared tests 5.6 Practice exercises", " Chapter 5 Bivariate Analysis Bivariate analysis examines the relationship between two variables. In PAL ICAN-ICAR survey work, it helps you describe differences across groups (for example, enrolment by residence) and patterns between numeric measures (for example, numeracy score by age). This chapter focuses on descriptive bivariate tools—cross-tabulations, group summaries, and scatterplots—while emphasising survey weights and clustering for population inference. 5.1 Choosing the right bivariate tool Select a method based on the measurement type of each variable. Categorical × categorical: use a cross-tabulation and report row or column proportions. Continuous × categorical: compare group summaries (means, medians, and spread). Continuous × continuous: use a scatterplot and summarise the trend. When you want population statements, use weighted estimators and design-correct standard errors. 5.2 Categorical × categorical: cross-tabulations A cross-tabulation shows how the categories of one variable distribute across the categories of another. Use column proportions to compare rates across groups and row proportions to describe composition within a category. The example below describes enrolment by sex. tab_enroll_sex = table(dat$enrolled, dat$sex, useNA = &quot;no&quot;) tab_enroll_sex ## ## Female Male ## Enrolled 40292 39105 ## Not enrolled 4921 4823 prop.table(tab_enroll_sex, margin = 2) # column proportions: enrolment rate by sex ## ## Female Male ## Enrolled 0.8911596 0.8902067 ## Not enrolled 0.1088404 0.1097933 The same analysis becomes a population estimate when you use the survey design object. tab_enroll_sex_w = svytable(~enrolled + sex, design = subset(des, !is.na(enrolled) &amp; !is.na(sex))) tab_enroll_sex_w ## sex ## enrolled Female Male ## Enrolled 117939955 126288632 ## Not enrolled 7894402 8476200 prop.table(tab_enroll_sex_w, margin = 2) ## sex ## enrolled Female Male ## Enrolled 0.93726354 0.93710377 ## Not enrolled 0.06273646 0.06289623 Interpretation rule. If your question is “What proportion of girls are enrolled?”, read the Enrolled cell within the Female column of the column-proportion table. 5.3 Continuous × categorical: comparing group means When one variable is numeric and the other defines groups, start with group summaries. Report the mean and a measure of dispersion (such as the standard deviation). Use weighted means for population-level comparisons. The example below compares mean numeracy score by enrolment status. dat |&gt; filter(!is.na(enrolled) &amp; !is.na(numeracy_score)) |&gt; group_by(enrolled) |&gt; summarise( mean_score = mean(numeracy_score, na.rm = TRUE), sd_score = sd(numeracy_score, na.rm = TRUE), n = n(), .groups = &quot;drop&quot; ) ## # A tibble: 2 × 4 ## enrolled mean_score sd_score n ## &lt;fct&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; ## 1 Enrolled 21.0 10.3 79397 ## 2 Not enrolled 8.58 9.17 9744 Weighted means (with design-correct standard errors) use svyby() and svymean(). svyby( ~numeracy_score, ~enrolled, design = subset(des, !is.na(enrolled) &amp; !is.na(numeracy_score)), svymean, na.rm = TRUE ) ## enrolled numeracy_score se ## Enrolled Enrolled 21.93872 0.1216989 ## Not enrolled Not enrolled 10.85661 0.3190279 5.4 Continuous × continuous: scatterplots and trends A scatterplot summarizes how two numeric variables move together. Use it to detect patterns, outliers, and heterogeneity. The plot below shows numeracy score by age. It is descriptive; later chapters formalise such relationships with regression. dat |&gt; filter(!is.na(age) &amp; !is.na(numeracy_score)) |&gt; ggplot(aes(x = age, y = numeracy_score)) + geom_point(alpha = 0.2) + stat_smooth(method = &quot;lm&quot;, se = FALSE) + labs(x = &quot;Child age (years)&quot;, y = &quot;Numeracy score&quot;) + theme_bw() Figure 5.1: Scatterplot of numeracy score by child age (sample description). If you want a design-correct summary of the average relationship, you can fit a survey-weighted linear model. fit_age = svyglm( numeracy_score ~ age, design = subset(des, !is.na(age) &amp; !is.na(numeracy_score)) ) summary(fit_age) ## ## Call: ## svyglm(formula = numeracy_score ~ age, design = subset(des, !is.na(age) &amp; ## !is.na(numeracy_score))) ## ## Survey design: ## subset(des, !is.na(age) &amp; !is.na(numeracy_score)) ## ## Coefficients: ## Estimate Std. Error t value Pr(&gt;|t|) ## (Intercept) 0.71354 0.27370 2.607 0.00918 ** ## age 2.05466 0.02264 90.773 &lt; 2e-16 *** ## --- ## Signif. codes: 0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1 ## ## (Dispersion parameter for gaussian family taken to be 70.81908) ## ## Number of Fisher Scoring iterations: 2 5.5 Testing association with chi-squared tests A chi-squared test evaluates whether two categorical variables are statistically independent. First, compute the test for the sample (unweighted). tab_enroll_res = table(dat$enrolled, dat$residence, useNA = &quot;no&quot;) chisq.test(tab_enroll_res) ## ## Pearson&#39;s Chi-squared test with Yates&#39; continuity correction ## ## data: tab_enroll_res ## X-squared = 1145.8, df = 1, p-value &lt; 2.2e-16 For population inference under a complex survey design, use the design-based chi-squared test. svychisq( ~enrolled + residence, design = subset(des, !is.na(enrolled) &amp; !is.na(residence)) ) ## ## Pearson&#39;s X^2: Rao &amp; Scott adjustment ## ## data: svychisq(~enrolled + residence, design = subset(des, !is.na(enrolled) &amp; !is.na(residence))) ## F = 10.709, ndf = 1, ddf = 2648, p-value = 0.00108 5.6 Practice exercises Estimate the proportion of non-enrolled children in rural and urban areas. Report the result as a population estimate using svytable() and column proportions. Compare mean ICAR assessment time (icar_assess_time) by residence. Report unweighted and weighted means. Cross-tabulate numeracy_group by literacy_group. Describe the pattern using column proportions. Test whether enrolment status differs by residence using chisq.test() and svychisq(). State which test supports population inference and why. Create a scatterplot of icar_assess_time against numeracy_score. Describe the direction and variability of the relationship in one paragraph. "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
